function t(t,i,e,n){Object.defineProperty(t,i,{get:e,set:n,enumerable:!0,configurable:!0})}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},s=i.parcelRequirec561;null==s&&((s=function(t){if(t in e)return e[t].exports;if(t in n){var i=n[t];delete n[t];var s={id:t,exports:{}};return e[t]=s,i.call(s.exports,s,s.exports),s.exports}var h=new Error("Cannot find module '"+t+"'");throw h.code="MODULE_NOT_FOUND",h}).register=function(t,i){n[t]=i},i.parcelRequirec561=s),s.register("bXuNP",(function(i,e){var n,s;t(i.exports,"register",(()=>n),(t=>n=t)),t(i.exports,"resolve",(()=>s),(t=>s=t));var h={};n=function(t){for(var i=Object.keys(t),e=0;e<i.length;e++)h[i[e]]=t[i[e]]},s=function(t){var i=h[t];if(null==i)throw new Error("Could not resolve bundle with id "+t);return i}})),s("bXuNP").register(JSON.parse('{"ct2W2":"index.504df37a.js","7FnEd":"background.5a8e4b04.png","6drKZ":"numbers.2a0ad200.png","5QlM5":"man.4068a63d.png","beX4X":"rip.d319d642.png"}'));var h;s.register("kPq84",(function(i,e){var n;t(i.exports,"getBundleURL",(()=>n),(t=>n=t));var s={};function h(t){return(""+t).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(t){var i=s[t];return i||(i=function(){try{throw new Error}catch(i){var t=(""+i.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(t)return h(t[2])}return"/"}(),s[t]=i),i}})),h=s("kPq84").getBundleURL("ct2W2")+s("bXuNP").resolve("7FnEd");class a{constructor(t){this.canvasSize=t,this.pointsWidth=t.width/5;const i=(t=>{const i=[];let e=0;for(let n=0;n<5;n++){const n=e+t;i.push({start:e,end:n}),e+=t}return i})(this.pointsWidth);this.points=i,this.backgroundImg=new Image,this.backgroundImg.src=h}draw(t){t.drawImage(this.backgroundImg,0,0,this.canvasSize.width,this.canvasSize.height)}}let r;const o={number0:{x:5,y:5,w:66,h:91},number1:{x:81,y:5,w:50,h:91},number2:{x:141,y:5,w:66,h:91},number3:{x:217,y:5,w:66,h:91},number4:{x:293,y:5,w:66,h:91},number5:{x:369,y:5,w:66,h:91},number6:{x:445,y:5,w:66,h:91},number7:{x:521,y:5,w:66,h:91},number8:{x:597,y:5,w:66,h:91},number9:{x:673,y:5,w:66,h:91}},d={breath0:{x:1059,y:5,w:517,h:403},breath1:{x:1586,y:5,w:517,h:403},chop0:{x:5,y:5,w:517,h:403},chop1:{x:532,y:5,w:517,h:403}};var l;l=s("kPq84").getBundleURL("ct2W2")+s("bXuNP").resolve("6drKZ");class c{constructor(t){this.isPlaying=!0,this.players=t,this.pointsImage=new Image,this.pointsImage.src=l}update(){this.players.forEach((t=>{t.timberman.health<=0&&(this.isPlaying=!1,t.timberman.health=0),t.timberman.facing===t.tree.woodenLogs[0].branchFacing&&(this.isPlaying=!1)}))}draw(t){this.players.forEach((i=>{t.save(),t.fillStyle="orange",t.fillRect(i.timberman.healthBarPos.x,i.timberman.healthBarPos.y,i.timberman.health,i.timberman.healthBarSize.height),t.restore();i.timberman.points.toString().split("").forEach(((e,n)=>{const s=o[`number${e}`];t.save(),t.drawImage(this.pointsImage,s.x,s.y,s.w,s.h,i.timberman.pointsPosition.x+n*i.timberman.pointsSize.width,i.timberman.pointsPosition.y,i.timberman.pointsSize.width,i.timberman.pointsSize.height),t.restore()}))}))}}let m;var u,g;(g=u||(u={}))[g.LEFT=0]="LEFT",g[g.RIGHT=1]="RIGHT",g[g.NONE=2]="NONE";var p,w,b=class{update(t){}draw(t,i){}handleInputDOWN(t){}handleInputUP(t){}};(w=p||(p={}))[w.IDDLE=0]="IDDLE",w[w.CHOP=1]="CHOP",w[w.DEAD=2]="DEAD";var f;f=s("kPq84").getBundleURL("ct2W2")+s("bXuNP").resolve("5QlM5");var y;y=s("kPq84").getBundleURL("ct2W2")+s("bXuNP").resolve("beX4X");var x=class extends b{constructor(t,i,e,n){super(),this.tmSize={width:200,height:150},this.positions=((t,i)=>{let e=r.points[1].start+r.pointsWidth/2;const n={x:e-i.width/2,y:t.height-100-i.height/2};return e=r.points[3].start+r.pointsWidth/2,[n,{x:e-i.width/2,y:t.height-100-i.height/2}]})(t,this.tmSize),this.facing=u.RIGHT,this.keyboardMap=n,this.health=100,this.points=0,this.healthBarPos=i,this.healthBarSize={width:this.health,height:30},this.pointsPosition=e,this.pointsSize={width:30,height:40},this.timbermanImage=new Image,this.timbermanImage.src=f,this.timbermanDeadImage=new Image,this.timbermanDeadImage.src=y,this.timbermanStatus=p.IDDLE,this.animationCount=0,this.time=0}update(t){this.timbermanStatus===p.IDDLE&&this.animationCount>=2&&(this.animationCount=0),this.health>100&&(this.health=100),this.health<0&&(this.health=0),this.health-=16*t}draw(t,i){const e=this.facing===u.LEFT?this.positions[0]:this.positions[1];if(t.save(),this.timbermanStatus===p.DEAD)t.drawImage(this.timbermanDeadImage,e.x,e.y,this.tmSize.width/2,this.tmSize.height/2);else{const n=(this.timbermanStatus===p.IDDLE?"breath":"chop")+this.animationCount;t.drawImage(this.timbermanImage,d[n].x,d[n].y,d[n].w,d[n].h,e.x,e.y,this.tmSize.width,this.tmSize.height),this.facing===u.RIGHT&&t.scale(1,-1),t.restore(),this.time+=i,this.animationCount=Math.floor(2*this.time*5)%2}}handleInputDOWN(t){const i=this.keyboardMap[t];i===u.LEFT&&(this.timbermanStatus=p.CHOP,this.facing=u.LEFT,this.health+=12*.2,this.points++),i===u.RIGHT&&(this.timbermanStatus=p.CHOP,this.facing=u.RIGHT,this.health+=12*.2,this.points++)}handleInputUP(t){const i=this.keyboardMap[t];i===u.LEFT&&(this.timbermanStatus=p.IDDLE),i===u.RIGHT&&(this.timbermanStatus=p.IDDLE)}};const E={ArrowLeft:u.LEFT,ArrowRight:u.RIGHT};u.LEFT,u.LEFT,u.RIGHT,u.RIGHT;var I=class{constructor(t,i,e=!1){if(this.position=t,this.wlSize=i,e)this.branchFacing=u.LEFT;else{const t=Math.floor(3*Math.random())+1;this.branchFacing=1===t?u.LEFT:2===t?u.RIGHT:u.NONE}this.branchSize={width:100,height:30}}draw(t){if(t.save(),t.fillStyle="blue",t.fillRect(this.position.x,this.position.y,this.wlSize.width,this.wlSize.height),t.restore(),this.branchFacing!==u.NONE){t.save(),t.fillStyle="green";const i=this.branchFacing===u.LEFT?this.position.x-this.branchSize.width:this.position.x+this.branchSize.width;t.fillRect(i,this.position.y,this.branchSize.width,this.branchSize.height),t.restore()}}};var S=class extends b{constructor(t,i,e=10){super(),this.woodenLogs=((t,i=10)=>{const e=[];for(let n=0;n<i;n++){const i={width:100,height:100},s={x:r.points[2].start+r.pointsWidth/2-i.width/2,y:t.height-150-105*n};e.push(new I(s,i,0===n))}return e})(t,e),this.keyboardMap=i}draw(t){this.woodenLogs.forEach((i=>i.draw(t)))}handleInputDOWN(t){const i=this.keyboardMap[t];if(i===u.LEFT||i===u.RIGHT){this.woodenLogs.shift(),this.woodenLogs.forEach((t=>{t.position.y+=t.wlSize.height+5}));const t={width:100,height:100},i={x:r.points[2].start+r.pointsWidth/2-t.width/2,y:r.canvasSize.height-150-945};this.woodenLogs.push(new I(i,t))}}};var v=class extends b{constructor(t){super(),this.position=t}draw(t,i){const e=(1/i).toFixed(2);t.font="15px Arial",t.fillStyle="black",t.fillText(`FPS:${e}`,this.position.x,this.position.y)}};window.onload=()=>{const t=document.getElementById("canvas-game"),i=t.getContext("2d"),e={width:t.width,height:t.height};((t={width:800,height:900})=>{r=new a(t)})(e);const n=new v({x:50,y:50}),s=new x(e,{x:50,y:100},{x:50,y:145},E),h=new S(e,E,10),o=[n,s,h];(t=>{m=new c(t)})([{timberman:s,tree:h,keyboardMap:E}]);let d=0;const l=n=>{const s=(n-d)/1e3;d=n,i.clearRect(0,0,t.width,t.height),r.draw(i),m.isPlaying?(m.draw(i),o.forEach((t=>{t.draw(i,s),t.update(s)})),m.update()):(i.font="15px Arial",i.fillStyle="black",i.fillText("Game Over...",e.width/2-50,e.height/2-25)),window.requestAnimationFrame(l)};window.requestAnimationFrame(l),document.body.addEventListener("keydown",(t=>{m.isPlaying&&o.forEach((i=>i.handleInputDOWN(t.key)))})),document.body.addEventListener("keyup",(t=>{m.isPlaying&&o.forEach((i=>i.handleInputUP(t.key)))}))};
//# sourceMappingURL=index.504df37a.js.map
