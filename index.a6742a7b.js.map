{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-bbd288d235c7b869.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-7fc66137473b4881.js","src/managers/MapManager.ts","src/utils/numbers-frames.ts","node_modules/@parcel/runtime-js/lib/runtime-0baef99d2b5d4692.js","src/managers/GameManager.ts","src/types/positions.ts","src/utils/player-status.ts","src/actors/Actor.ts","node_modules/@parcel/runtime-js/lib/runtime-a7f222ba8293981b.js","node_modules/@parcel/runtime-js/lib/runtime-e6a0f4010505c18a.js","src/actors/Timberman.ts","src/utils/keyboard-map.ts","node_modules/@parcel/runtime-js/lib/runtime-77b3c6dd9474ac89.js","node_modules/@parcel/runtime-js/lib/runtime-01c3a310108e8a79.js","node_modules/@parcel/runtime-js/lib/runtime-36c1f928b67b095e.js","node_modules/@parcel/runtime-js/lib/runtime-64310a0dfce0db3d.js","src/actors/WoodenLog.ts","node_modules/@parcel/runtime-js/lib/runtime-cd626ffcf6f3124f.js","src/actors/Tree.ts","src/actors/FPSviewer.ts","src/index.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"ct2W2\\\":\\\"index.a6742a7b.js\\\",\\\"7FnEd\\\":\\\"background.5a8e4b04.png\\\",\\\"6drKZ\\\":\\\"numbers.2a0ad200.png\\\",\\\"5QlM5\\\":\\\"man.4068a63d.png\\\",\\\"beX4X\\\":\\\"rip.d319d642.png\\\",\\\"hTO6R\\\":\\\"branch1.67354f49.png\\\",\\\"6gu66\\\":\\\"branch2.15a5c345.png\\\",\\\"bNIP3\\\":\\\"trunk1.9b984a50.png\\\",\\\"jcPC9\\\":\\\"trunk2.6b30af00.png\\\",\\\"eBVmE\\\":\\\"stump.3165b42e.png\\\"}\"));","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('ct2W2') + require('./helpers/bundle-manifest').resolve(\"7FnEd\");","import { Size } from '../types/sizes';\n\nconst background = require('../../public/GameResources/img/background.png');\n\nconst getPointsArray = (\n  pointsWidth: number\n): Array<{ start: number; end: number }> => {\n  const pointsHelper: Array<{ start: number; end: number }> = [];\n  let start: number = 0;\n\n  for (let i = 0; i < 5; i++) {\n    const end = start + pointsWidth;\n    pointsHelper.push({ start, end });\n    start += pointsWidth;\n  }\n\n  return pointsHelper;\n};\n\nclass MapManager {\n  canvasSize: Size;\n\n  pointsWidth: number;\n\n  points: Array<{ start: number; end: number }>;\n\n  backgroundImg: HTMLImageElement;\n\n  constructor(canvasSize: Size) {\n    this.canvasSize = canvasSize;\n    this.pointsWidth = canvasSize.width / 5;\n    const pointsHelper: Array<{ start: number; end: number }> = getPointsArray(\n      this.pointsWidth\n    );\n    this.points = pointsHelper;\n\n    this.backgroundImg = new Image();\n    this.backgroundImg.src = background;\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    ctx.drawImage(\n      this.backgroundImg,\n      0,\n      0,\n      this.canvasSize.width,\n      this.canvasSize.height\n    );\n  }\n}\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let mapManager: MapManager;\n\nexport const initMapManager = (\n  canvasSize: Size = { width: 800, height: 900 }\n) => {\n  mapManager = new MapManager(canvasSize);\n};\n","import { NumberFrame } from '../types/numberFrames';\n\nexport const framesNumbers: NumberFrame = {\n  number0: { x: 5, y: 5, w: 66, h: 91 },\n  number1: { x: 81, y: 5, w: 50, h: 91 },\n  number2: { x: 141, y: 5, w: 66, h: 91 },\n  number3: { x: 217, y: 5, w: 66, h: 91 },\n  number4: { x: 293, y: 5, w: 66, h: 91 },\n  number5: { x: 369, y: 5, w: 66, h: 91 },\n  number6: { x: 445, y: 5, w: 66, h: 91 },\n  number7: { x: 521, y: 5, w: 66, h: 91 },\n  number8: { x: 597, y: 5, w: 66, h: 91 },\n  number9: { x: 673, y: 5, w: 66, h: 91 }\n};\n\nexport const framesTimberman: NumberFrame = {\n  breath0: { x: 1059, y: 5, w: 517, h: 403 }, // Breath 1\n  breath1: { x: 1586, y: 5, w: 517, h: 403 }, // Breath 2\n  chop0: { x: 5, y: 5, w: 517, h: 403 }, // Chop 1\n  chop1: { x: 532, y: 5, w: 517, h: 403 } // Chop 2\n};\n","module.exports = require('./helpers/bundle-url').getBundleURL('ct2W2') + require('./helpers/bundle-manifest').resolve(\"6drKZ\");","import { Player } from '../types/player';\nimport { framesNumbers } from '../utils/numbers-frames';\nimport { mapManager } from './MapManager';\n\nconst numbers = require('../../public/GameResources/img/numbers.png');\n\nclass GameManager {\n  isPlaying: boolean;\n\n  players: Array<Player>;\n\n  pointsImage: HTMLImageElement;\n\n  constructor(players: Array<Player>) {\n    this.isPlaying = true;\n    this.players = players;\n\n    this.pointsImage = new Image();\n    this.pointsImage.src = numbers;\n  }\n\n  update() {\n    this.players.forEach((player: Player) => {\n      // -- Player arrives at 0 Health\n      if (player.timberman.health <= 0) {\n        this.isPlaying = false;\n        player.timberman.health = 0;\n      }\n\n      // -- Player Collides With Branch\n      if (player.timberman.facing === player.tree.woodenLogs[0].branchFacing) {\n        this.isPlaying = false;\n      }\n    });\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    this.players.forEach((player: Player) => {\n      // #region [ Draw Timberman Health ]\n      ctx.save();\n      ctx.fillStyle = 'orange';\n      ctx.fillRect(\n        player.timberman.healthBarPos.x,\n        player.timberman.healthBarPos.y,\n        player.timberman.health,\n        player.timberman.healthBarSize.height\n      );\n      ctx.restore();\n      // #endregion\n\n      // #region [ Draw Timberman Points ]\n      const strPoints: string[] = player.timberman.points.toString().split('');\n      strPoints.forEach((e, index) => {\n        const curNumber: { x: number; y: number; w: number; h: number } =\n          framesNumbers[`number${e}`];\n\n        ctx.save();\n        ctx.drawImage(\n          this.pointsImage,\n          curNumber.x,\n          curNumber.y,\n          curNumber.w,\n          curNumber.h,\n          player.timberman.pointsPosition.x +\n            index * player.timberman.pointsSize.width,\n          player.timberman.pointsPosition.y,\n          player.timberman.pointsSize.width,\n          player.timberman.pointsSize.height\n        );\n        ctx.restore();\n      });\n      // #endregion\n    });\n  }\n\n  drawGameOver(ctx: CanvasRenderingContext2D) {\n    const player = this.players[0];\n\n    // -- Dead Player Sprite\n    ctx.save();\n    ctx.drawImage(\n      player.timberman.timbermanDeadImage,\n      mapManager.canvasSize.width / 2 - 125,\n      mapManager.canvasSize.height - (player.timberman.tmSize.height + 70),\n      player.timberman.tmSize.width,\n      player.timberman.tmSize.height\n    );\n    ctx.restore();\n\n    // -- Player Points\n    ctx.save();\n\n    const strPoints: string[] = player.timberman.points.toString().split('');\n\n    strPoints.forEach((e, index) => {\n      const curNumber: { x: number; y: number; w: number; h: number } =\n        framesNumbers[`number${e}`];\n\n      ctx.save();\n      ctx.drawImage(\n        this.pointsImage,\n        curNumber.x,\n        curNumber.y,\n        curNumber.w,\n        curNumber.h,\n        mapManager.canvasSize.width / 2 -\n          50 +\n          index * player.timberman.pointsSize.width,\n        mapManager.canvasSize.height / 2 - 100,\n        player.timberman.pointsSize.width,\n        player.timberman.pointsSize.height\n      );\n      ctx.restore();\n    });\n    ctx.restore();\n\n    // -- Game Over Text\n    ctx.save();\n    ctx.font = '68px PixelGameFont';\n    ctx.fillStyle = 'black';\n    ctx.fillText(\n      `GAME OVER...`,\n      mapManager.canvasSize.width / 2 - 220,\n      mapManager.canvasSize.height / 2 - 124\n    );\n    ctx.restore();\n  }\n}\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let gameManager: GameManager;\n\nexport const initGameManager = (players: Array<Player>) => {\n  gameManager = new GameManager(players);\n};\n","export interface Position {\n  x: number;\n  y: number;\n}\n\nexport enum facingENUM {\n  // eslint-disable-next-line no-unused-vars\n  LEFT,\n  // eslint-disable-next-line no-unused-vars\n  RIGHT,\n  // eslint-disable-next-line no-unused-vars\n  NONE\n}\n","/* eslint-disable no-unused-vars */\n/* eslint-disable import/prefer-default-export */\nexport enum TimbermanStatus {\n  IDDLE,\n  CHOP,\n  DEAD\n}\n","/* eslint-disable no-unused-vars */\n/* eslint-disable class-methods-use-this */\n\nclass Actor {\n  update(delta: number): void {}\n\n  draw(ctx: CanvasRenderingContext2D, delta: number): void {}\n\n  handleInputDOWN(key: string): void {}\n\n  handleInputUP(key: string): void {}\n}\n\nexport default Actor;\n","module.exports = require('./helpers/bundle-url').getBundleURL('ct2W2') + require('./helpers/bundle-manifest').resolve(\"5QlM5\");","module.exports = require('./helpers/bundle-url').getBundleURL('ct2W2') + require('./helpers/bundle-manifest').resolve(\"beX4X\");","import { mapManager } from '../managers/MapManager';\nimport { Position, facingENUM } from '../types/positions';\nimport { Size } from '../types/sizes';\nimport { KeyboardMap } from '../utils/keyboard-map';\nimport Actor from './Actor';\nimport { framesTimberman } from '../utils/numbers-frames';\nimport { TimbermanStatus } from '../utils/player-status';\n\nconst timbermanSprites = require('../../public/GameResources/img/man.png');\nconst timbermanRIPSprite = require('../../public/GameResources/img/rip.png');\n\nconst HEALTH_DECRESEASE_SPEED: number = 20;\nconst HEALTH_INCRESEASE_SPEED: number = 10;\nconst NUM_SPRITES = 2;\n\nconst createPositionsTM = (canvas: Size, tmSize: Size): Array<Position> => {\n  // -- Left Point\n  let middlePosPoint = mapManager.points[1].start + mapManager.pointsWidth / 2;\n  const tmPosLeft: Position = {\n    x: middlePosPoint - tmSize.width / 2,\n    y: canvas.height - 150 - tmSize.height / 2\n  };\n\n  // -- Right Point\n  middlePosPoint = mapManager.points[3].start + mapManager.pointsWidth / 2;\n  const tmPosRight: Position = {\n    x: middlePosPoint - tmSize.width / 2,\n    y: canvas.height - 150 - tmSize.height / 2\n  };\n\n  return [tmPosLeft, tmPosRight];\n};\n\nclass Timberman extends Actor {\n  tmSize: Size;\n\n  positions: Array<Position>;\n\n  facing: facingENUM;\n\n  keyboardMap: KeyboardMap;\n\n  health: number;\n\n  points: number;\n\n  healthBarPos: Position;\n\n  healthBarSize: Size;\n\n  pointsPosition: Position;\n\n  pointsSize: Size;\n\n  timbermanImage: HTMLImageElement;\n\n  timbermanDeadImage: HTMLImageElement;\n\n  timbermanStatus: TimbermanStatus;\n\n  animationCount: number;\n\n  time: number;\n\n  constructor(\n    canvasSize: Size,\n    healthPos: Position,\n    pointsPos: Position,\n    keyboardMap: KeyboardMap\n  ) {\n    super();\n    this.tmSize = { width: 250, height: 200 };\n    this.positions = createPositionsTM(canvasSize, this.tmSize);\n    this.facing = facingENUM.RIGHT;\n    this.keyboardMap = keyboardMap;\n    this.health = 100;\n    this.points = 0;\n    this.healthBarPos = healthPos;\n    this.healthBarSize = { width: this.health, height: 30 };\n    this.pointsPosition = pointsPos;\n    this.pointsSize = { width: 30, height: 40 };\n\n    this.timbermanImage = new Image();\n    this.timbermanImage.src = timbermanSprites;\n\n    this.timbermanDeadImage = new Image();\n    this.timbermanDeadImage.src = timbermanRIPSprite;\n\n    this.timbermanStatus = TimbermanStatus.IDDLE;\n    this.animationCount = 0;\n\n    this.time = 0;\n  }\n\n  update(delta: number) {\n    // #region [ STATUS ]\n    if (this.timbermanStatus === TimbermanStatus.IDDLE) {\n      if (this.animationCount >= NUM_SPRITES) this.animationCount = 0;\n    }\n    // #endregion\n\n    // #region [ HEALTH]\n    if (this.health > 100)\n      // -- [ HEALTH ]\n      this.health = 100;\n    if (this.health < 0) this.health = 0;\n\n    this.health -= HEALTH_DECRESEASE_SPEED * delta;\n    // #endregion\n  }\n\n  draw(ctx: CanvasRenderingContext2D, delta: number) {\n    const curPosition: Position =\n      this.facing === facingENUM.LEFT ? this.positions[0] : this.positions[1];\n\n    ctx.save();\n\n    if (this.timbermanStatus === TimbermanStatus.DEAD) {\n      ctx.drawImage(\n        this.timbermanDeadImage,\n        curPosition.x,\n        curPosition.y,\n        this.tmSize.width / 2,\n        this.tmSize.height / 2\n      );\n    } else {\n      const tmStatus: string =\n        this.timbermanStatus === TimbermanStatus.IDDLE ? 'breath' : 'chop';\n\n      const animation: string = tmStatus + this.animationCount;\n\n      ctx.drawImage(\n        this.timbermanImage,\n        framesTimberman[animation].x,\n        framesTimberman[animation].y,\n        framesTimberman[animation].w,\n        framesTimberman[animation].h,\n        curPosition.x,\n        curPosition.y,\n        this.tmSize.width,\n        this.tmSize.height\n      );\n\n      this.time += delta;\n      this.animationCount =\n        Math.floor(this.time * NUM_SPRITES * 5) % NUM_SPRITES;\n    }\n\n    ctx.restore();\n  }\n\n  handleInputDOWN(key: string) {\n    const input = this.keyboardMap[key];\n\n    if (input === facingENUM.LEFT) {\n      this.timbermanStatus = TimbermanStatus.CHOP;\n\n      this.facing = facingENUM.LEFT;\n      this.health += HEALTH_INCRESEASE_SPEED * 0.2;\n      this.points++;\n    }\n\n    if (input === facingENUM.RIGHT) {\n      this.timbermanStatus = TimbermanStatus.CHOP;\n\n      this.facing = facingENUM.RIGHT;\n      this.health += HEALTH_INCRESEASE_SPEED * 0.2;\n      this.points++;\n    }\n  }\n\n  handleInputUP(key: string) {\n    const input = this.keyboardMap[key];\n\n    if (input === facingENUM.LEFT) this.timbermanStatus = TimbermanStatus.IDDLE;\n\n    if (input === facingENUM.RIGHT)\n      this.timbermanStatus = TimbermanStatus.IDDLE;\n  }\n}\n\nexport default Timberman;\n","import { facingENUM } from '../types/positions';\n\nexport interface KeyboardMap {\n  [key: string]: facingENUM;\n}\n\nexport const mapA: KeyboardMap = {\n  ArrowLeft: facingENUM.LEFT,\n  ArrowRight: facingENUM.RIGHT\n};\n\nexport const mapB: KeyboardMap = {\n  a: facingENUM.LEFT,\n  A: facingENUM.LEFT,\n  d: facingENUM.RIGHT,\n  D: facingENUM.RIGHT\n};\n","module.exports = require('./helpers/bundle-url').getBundleURL('ct2W2') + require('./helpers/bundle-manifest').resolve(\"hTO6R\");","module.exports = require('./helpers/bundle-url').getBundleURL('ct2W2') + require('./helpers/bundle-manifest').resolve(\"6gu66\");","module.exports = require('./helpers/bundle-url').getBundleURL('ct2W2') + require('./helpers/bundle-manifest').resolve(\"bNIP3\");","module.exports = require('./helpers/bundle-url').getBundleURL('ct2W2') + require('./helpers/bundle-manifest').resolve(\"jcPC9\");","import { Position, facingENUM } from '../types/positions';\nimport { Size } from '../types/sizes';\n\nconst LEFT_BRANCH_SPRITE = require('../../public/GameResources/img/branch1.png');\nconst RIGHT_BRANCH_SPRITE = require('../../public/GameResources/img/branch2.png');\nconst WOODEN_LOG_1_SPRITE = require('../../public/GameResources/img/trunk1.png');\nconst WOODEN_LOG_2_SPRITE = require('../../public/GameResources/img/trunk2.png');\n\nclass WoodenLog {\n  position: Position;\n\n  branchFacing: facingENUM;\n\n  wlSize: Size;\n\n  treeSprite: HTMLImageElement;\n\n  constructor(position: Position, wlSize: Size, branchFacing: facingENUM) {\n    this.position = position;\n    this.wlSize = wlSize;\n    this.branchFacing = branchFacing;\n\n    this.treeSprite = new Image();\n    if (this.branchFacing === facingENUM.LEFT)\n      this.treeSprite.src = LEFT_BRANCH_SPRITE;\n\n    if (this.branchFacing === facingENUM.RIGHT)\n      this.treeSprite.src = RIGHT_BRANCH_SPRITE;\n\n    if (this.branchFacing === facingENUM.NONE) {\n      const randTrunk = Math.floor(Math.random() * 2) + 1;\n      this.treeSprite.src =\n        randTrunk === 1 ? WOODEN_LOG_1_SPRITE : WOODEN_LOG_2_SPRITE;\n    }\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    // -- Render Wooden Log\n    ctx.save();\n\n    ctx.drawImage(\n      this.treeSprite,\n      this.position.x,\n      this.position.y,\n      this.wlSize.width,\n      this.wlSize.height\n    );\n\n    ctx.restore();\n  }\n}\n\nexport default WoodenLog;\n","module.exports = require('./helpers/bundle-url').getBundleURL('ct2W2') + require('./helpers/bundle-manifest').resolve(\"eBVmE\");","import { mapManager } from '../managers/MapManager';\nimport { facingENUM, Position } from '../types/positions';\nimport { Size } from '../types/sizes';\nimport { KeyboardMap } from '../utils/keyboard-map';\nimport Actor from './Actor';\nimport WoodenLog from './WoodenLog';\n\nconst STUMP_SPRITE = require('../../public/GameResources/img/stump.png');\n\nconst margin: Size = { width: 18, height: 120 };\nconst marginWL: Size = { width: 20, height: 180 };\nconst wlSize: Size = { width: 460, height: 140 };\n\nconst getBranchPosition = (lastLog: WoodenLog): facingENUM => {\n  if (lastLog.branchFacing === facingENUM.LEFT) {\n    const rand = Math.floor(Math.random() * 3) + 1;\n    if (rand !== 1 && rand !== 2) return facingENUM.LEFT;\n  }\n\n  if (lastLog.branchFacing === facingENUM.RIGHT) {\n    const rand = Math.floor(Math.random() * 3) + 1;\n    if (rand !== 1 && rand !== 2) return facingENUM.RIGHT;\n  }\n\n  if (lastLog.branchFacing === facingENUM.NONE) {\n    const rand = Math.floor(Math.random() * 7) + 1;\n    if (rand === 1 || rand === 3 || rand === 5) return facingENUM.LEFT;\n    if (rand === 2 || rand === 4 || rand === 6) return facingENUM.RIGHT;\n  }\n\n  return facingENUM.NONE;\n};\n\nconst initWoodenLogs = (\n  canvas: Size,\n  firstLogSize: Size,\n  numLogs: number = 10\n): Array<WoodenLog> => {\n  const tree: Array<WoodenLog> = [];\n\n  const middlePosPoint =\n    mapManager.points[2].start + mapManager.pointsWidth / 2;\n\n  // -- Create first wooden log\n  const wlPos1: Position = {\n    x: middlePosPoint - marginWL.width - wlSize.width / 2,\n    y: canvas.height - (marginWL.height + firstLogSize.height)\n  };\n  tree.push(new WoodenLog(wlPos1, wlSize, facingENUM.LEFT));\n\n  // -- Fill the array *Start at 1 cause we manually filled the first one*\n  for (let i = 1; i < numLogs; i++) {\n    // -- Wooden Log Position\n    const wlPos: Position = {\n      x: middlePosPoint - marginWL.width - wlSize.width / 2,\n      y:\n        canvas.height -\n        (marginWL.height + firstLogSize.height) -\n        i * wlSize.height\n    };\n\n    // -- Branch Direction\n    const branchFacing = getBranchPosition(tree[i - 1]);\n\n    // -- Add the new wooden log to the tree\n    tree.push(new WoodenLog(wlPos, wlSize, branchFacing));\n  }\n\n  return tree;\n};\n\nclass Tree extends Actor {\n  woodenLogs: Array<WoodenLog>;\n\n  keyboardMap: KeyboardMap;\n\n  firstLogSize: Size;\n\n  firstLogPos: Position;\n\n  firstLogSprite: HTMLImageElement;\n\n  constructor(canvas: Size, keyboardMap: KeyboardMap, numLogs: number = 10) {\n    super();\n    this.firstLogSize = { width: 180, height: 80 };\n    const middlePosPoint =\n      mapManager.points[2].start + mapManager.pointsWidth / 2;\n\n    this.firstLogPos = {\n      x: middlePosPoint - margin.width - this.firstLogSize.width / 2,\n      y: mapManager.canvasSize.height - margin.height\n    };\n    this.firstLogSprite = new Image();\n    this.firstLogSprite.src = STUMP_SPRITE;\n\n    this.woodenLogs = initWoodenLogs(canvas, this.firstLogSize, numLogs);\n\n    this.keyboardMap = keyboardMap;\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    // -- Draw First Log\n    ctx.save();\n\n    ctx.drawImage(\n      this.firstLogSprite,\n      this.firstLogPos.x,\n      this.firstLogPos.y,\n      this.firstLogSize.width,\n      this.firstLogSize.height\n    );\n\n    ctx.restore();\n\n    // -- Draw Wooden Logs\n    this.woodenLogs.forEach((e) => e.draw(ctx));\n  }\n\n  handleInputDOWN(key: string) {\n    const input = this.keyboardMap[key];\n    if (input !== facingENUM.LEFT && input !== facingENUM.RIGHT) return;\n\n    // -- Remove First Element\n    this.woodenLogs.shift();\n\n    // -- Move all the [ Wooden Log ] Positions\n    this.woodenLogs.forEach((wl) => {\n      wl.position.y += wl.wlSize.height;\n    });\n\n    // -- Add new [ Wooden Log ] to the tree at the last position\n    const middlePosPoint =\n      mapManager.points[2].start + mapManager.pointsWidth / 2;\n\n    const wlPos: Position = {\n      x: middlePosPoint - marginWL.width - wlSize.width / 2,\n      y:\n        mapManager.canvasSize.height -\n        (marginWL.height + this.firstLogSize.height) -\n        9 * wlSize.height\n    };\n\n    // -- Branch Direction\n    const branchFacing = getBranchPosition(\n      this.woodenLogs[this.woodenLogs.length - 1]\n    );\n\n    this.woodenLogs.push(new WoodenLog(wlPos, wlSize, branchFacing));\n  }\n}\n\nexport default Tree;\n","import { Position } from '../types/positions';\nimport Actor from './Actor';\n\nclass FPSViewer extends Actor {\n  position: Position;\n\n  constructor(position: Position) {\n    super();\n    this.position = position;\n  }\n\n  draw(ctx: CanvasRenderingContext2D, delta: number) {\n    const fps = (1 / delta).toFixed(2);\n    ctx.font = '15px Arial';\n    ctx.fillStyle = 'black';\n    ctx.fillText(`FPS:${fps}`, this.position.x, this.position.y);\n  }\n}\n\nexport default FPSViewer;\n","import { mapManager, initMapManager } from './managers/MapManager';\nimport { gameManager, initGameManager } from './managers/GameManager';\nimport Timberman from './actors/Timberman';\nimport { mapA } from './utils/keyboard-map';\nimport Tree from './actors/Tree';\nimport { Size } from './types/sizes';\nimport Actor from './actors/Actor';\nimport { Player } from './types/player';\nimport FPSViewer from './actors/FPSviewer';\n\nwindow.onload = () => {\n  const canvas = document.getElementById('canvas-game') as HTMLCanvasElement;\n  const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n  const canvasSize: Size = { width: canvas.width, height: canvas.height };\n\n  // [ Init Managers ]\n  initMapManager(canvasSize);\n\n  // #region [ Init Actors ]\n\n  // -- FPS Viewer\n  const FPSviewer: FPSViewer = new FPSViewer({ x: 50, y: 50 });\n\n  // -- Timberman\n  const timberman: Timberman = new Timberman(\n    canvasSize,\n    { x: 50, y: 100 }, // Health Bar Position\n    { x: 50, y: 145 }, // Points Position\n    mapA\n  );\n\n  // -- Wooden Tree\n  const tree: Tree = new Tree(canvasSize, mapA, 10);\n  // #endregion\n\n  const actors: Array<Actor> = [FPSviewer, timberman, tree];\n\n  // [ Init Game Manager ]\n  const players: Array<Player> = [\n    { timberman, tree, keyboardMap: mapA }\n    // { timberman2, tree2, keyboardMap: mapB }, // -- In case you want to add another player\n  ];\n  initGameManager(players);\n\n  // -- Render Loop\n  let lastFrame = 0;\n  const render = (time: number): void => {\n    // -- Get Delta\n    const delta = (time - lastFrame) / 1000;\n    lastFrame = time;\n\n    // -- Clear the canvas\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    // -- Draw Background\n    mapManager.draw(ctx);\n\n    if (gameManager.isPlaying) {\n      // -- Draw Actors Info\n      gameManager.draw(ctx);\n\n      // -- Actors Actions\n      actors.forEach((actor) => {\n        // -- Draw Section\n        actor.draw(ctx, delta);\n\n        // -- Update Player Health\n        actor.update(delta);\n      });\n\n      // -- Check players positions\n      gameManager.update();\n    } else {\n      // -- Game Over Message\n      gameManager.drawGameOver(ctx);\n    }\n\n    // -- Recurisve\n    window.requestAnimationFrame(render);\n  };\n\n  // -- Start the game\n  window.requestAnimationFrame(render);\n\n  // -- Add Event Listeners\n  document.body.addEventListener('keydown', (event) => {\n    if (gameManager.isPlaying) {\n      actors.forEach((actor) => actor.handleInputDOWN(event.key));\n    }\n  });\n\n  document.body.addEventListener('keyup', (event) => {\n    if (gameManager.isPlaying) {\n      actors.forEach((actor) => actor.handleInputUP(event.key));\n    }\n  });\n};\n"],"names":["$8b4d1930797b255e$export$6503ec6e8aabbaf","$8b4d1930797b255e$export$f7ad0328861e2f03","$8b4d1930797b255e$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$f29cd6c67ea13581$export$bdfd709ae4826697","$f29cd6c67ea13581$var$bundleURL","$f29cd6c67ea13581$var$getBaseURL","url","replace","value","err","matches","stack","match","$f29cd6c67ea13581$var$getBundleURL","$591730b6a5fd8289$exports","getBundleURL","resolve","$b76e4b56ecbb8faf$var$MapManager","canvasSize1","this","canvasSize","pointsWidth","width","pointsHelper","start","end","push","$b76e4b56ecbb8faf$var$getPointsArray","points","backgroundImg","Image","src","draw","ctx","drawImage","height","$b76e4b56ecbb8faf$export$fef8b6f15112b2ca","$bdfd4ec0ff3277d0$export$bf957bc552d5aae1","number0","x","y","w","h","number1","number2","number3","number4","number5","number6","number7","number8","number9","$bdfd4ec0ff3277d0$export$e4b2aa312f39627e","breath0","breath1","chop0","chop1","$cca09e8689b00f37$exports","$ef5e44257fdce7da$var$GameManager","players1","isPlaying","players","pointsImage","update","forEach","player","timberman","health","facing","tree","woodenLogs","branchFacing","save","fillStyle","fillRect","healthBarPos","healthBarSize","restore","toString","split","e","index","curNumber","pointsPosition","pointsSize","drawGameOver","ctx1","timbermanDeadImage","tmSize","font","fillText","$ef5e44257fdce7da$export$ab06c38123110f1f","facingENUM","$a6845bf1f59e284a$export$7ce44a5e993f42ea","TimbermanStatus","$8235678231353d24$export$2e2bcd8739ae039","delta","delta1","handleInputDOWN","key","handleInputUP","key1","$4712e73920d94629$export$99b633ad0ec83e04","$8fef915a3d75bccc$exports","$9023aff859b2180e$exports","$8aa3bd67dcb811a8$export$2e2bcd8739ae039","healthPos","pointsPos","keyboardMap","super","positions","canvas","middlePosPoint","tmPosLeft","$8aa3bd67dcb811a8$var$createPositionsTM","RIGHT","timbermanImage","timbermanStatus","IDDLE","animationCount","time","curPosition","LEFT","DEAD","animation","Math","floor","input","CHOP","$8aa3bd67dcb811a8$var$HEALTH_INCRESEASE_SPEED","$6f5fc56be7ebde6b$export$b876a215b1634849","ArrowLeft","ArrowRight","$f60b990ce3299b1d$exports","$273284489b6c564f$exports","$ae9986b0f158c4d2$exports","$56df4a35e0626f87$exports","$0221a8df29792366$export$2e2bcd8739ae039","position","wlSize","treeSprite","NONE","randTrunk","random","$36a810bddeda1fa6$exports","$ee9bfff312bfbe00$var$margin","$ee9bfff312bfbe00$var$marginWL","$ee9bfff312bfbe00$var$wlSize","$ee9bfff312bfbe00$var$getBranchPosition","lastLog","rand","$ee9bfff312bfbe00$export$2e2bcd8739ae039","numLogs","firstLogSize","firstLogPos","firstLogSprite","wlPos1","wlPos","$ee9bfff312bfbe00$var$initWoodenLogs","shift","wl","$686b1df20744f34f$export$2e2bcd8739ae039","fps","toFixed","window","onload","document","getElementById","getContext","$b76e4b56ecbb8faf$export$5b9231e05761732a","FPSviewer","actors","$ef5e44257fdce7da$export$59c269ab1c60136c","lastFrame","render","clearRect","actor","requestAnimationFrame","body","addEventListener","event"],"version":3,"file":"index.a6742a7b.js.map"}